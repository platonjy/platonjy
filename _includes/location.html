<!-- 오시는 길 (Location - Kakao Maps Hardcoded) 섹션 -->
<section class="page-section" id="location"> <!-- 네비게이션 링크와 ID 일치 -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">오시는 길</h2>
        <h3 class="section-subheading text-muted">Our location</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <!-- 카카오맵 표시 영역 -->
        <div id="kakaoMapContainer" style="width:100%; height:450px; margin-bottom: 20px;"></div>

        <!-- 정보 표시 (주소, 길찾기 등) -->
        <div class="location-details text-center">
          <h3>중흥교회(교회는 장소만 사용)</h3>
          <p>서울특별시 강동구 성내동 430-2</p>
          <div class="map_ico_btn_wrap">
            <!-- 지도에서 보기: 카카오맵 장소 상세 URL (placeId가 있다면 더 정확) -->
            <a href="https://map.kakao.com/link/map/중흥교회,37.5262832,127.133687" target="_blank" class="btn_map theme_background" style="margin-right: 10px;"><span class="nicon nicon_pin1"></span>지도에서 보기</a>
            <!-- 길찾기: 카카오맵 길찾기 URL -->
            <a href="https://map.kakao.com/link/to/중흥교회,37.5262832,127.133687" target="_blank" class="btn_roadmap theme_background"><span class="nicon nicon_pathfind2"></span>길찾기</a>
          </div>

          <div class="local_area" style="margin-top: 20px;">
            <dl class="list_info">
              <dt class="item_title"><span class="nicon_pin2"></span>오시는길 상세</dt>
              <dd class="item_description">
                <span class="text">5호선 둔촌동역 3번출구에서 나와 태평양 약국 옆 골목에서 2번째 길에서 왼쪽</span>
              </dd>
              <dt class="item_title" style="margin-top:10px;"><span class="nicon_pin2"></span>주차정보</dt>
              <dd class="item_description">
                <span class="text">둔촌역전통시장 공영주차장, 안말공영주차장 외 주변주차시설 이용</span>
              </dd>
            </dl>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 카카오맵 API 로드 (발급받은 JavaScript 앱 키로 교체) -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3002f03bf5465e4bd274146a8bacedf0"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  var container = document.getElementById('kakaoMapContainer'); // 지도를 담을 영역의 DOM 레퍼런스
  if (!container) {
    console.error("카카오맵 컨테이너(#kakaoMapContainer)를 찾을 수 없습니다.");
    return;
  }

  // kakao 객체가 로드되었는지 최종 확인 (디버깅용)
  if (typeof kakao === 'undefined' || typeof kakao.maps === 'undefined') {
    console.error("카카오맵 API가 제대로 로드되지 않았습니다. 스크립트 태그의 앱 키와 카카오 개발자 사이트의 플랫폼(도메인) 등록을 확인하세요.");
    // 이 시점에서 kakao 객체가 없다면, API 스크립트 로드 실패 또는 순서 문제일 가능성이 매우 높습니다.
    // 또는 도메인 등록이 안 되어 API 사용이 차단된 경우일 수 있습니다.
    return;
  }

  // --- 모든 위치 정보 하드코딩 ---
  var mapLat = 37.5262832;
  var mapLng = 127.133687;
  var mapLevel = 3; // 카카오맵 확대 레벨 (1~14, 숫자가 작을수록 확대)
  var locationName = "중흥교회";
  var locationAddress = "서울특별시 강동구 성내동 430-2";
  // -----------------------------

  var options = { // 지도를 생성할 때 필요한 기본 옵션
    center: new kakao.maps.LatLng(mapLat, mapLng), // 지도의 중심좌표.
    level: mapLevel // 지도의 레벨(확대, 축소 정도)
  };

  var map = new kakao.maps.Map(container, options); // 지도 생성 및 객체 리턴

  // 마커가 표시될 위치입니다
  var markerPosition  = new kakao.maps.LatLng(mapLat, mapLng);

  // 마커를 생성합니다
  var marker = new kakao.maps.Marker({
    position: markerPosition
  });

  // 마커가 지도 위에 표시되도록 설정합니다
  marker.setMap(map);

  // 인포윈도우에 표시할 내용
  var iwContent = '<div style="padding:5px; text-align:center;">' + locationName + '<br><a href="https://map.kakao.com/link/map/' + locationName + ',' + mapLat + ',' + mapLng + '" style="color:blue" target="_blank">큰지도보기</a> <a href="https://map.kakao.com/link/to/' + locationName + ',' + mapLat + ',' + mapLng + '" style="color:blue" target="_blank">길찾기</a></div>',
      iwPosition = new kakao.maps.LatLng(mapLat, mapLng); // 인포윈도우 표시 위치입니다

  // 인포윈도우를 생성합니다
  var infowindow = new kakao.maps.InfoWindow({
    position : iwPosition,
    content : iwContent
  });

  // 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
  // infowindow.open(map, marker); // 처음 로드 시 바로 표시하려면 주석 해제

  // 마커에 클릭 이벤트를 등록합니다
  kakao.maps.event.addListener(marker, 'click', function() {
      // 마커 위에 인포윈도우를 표시합니다
      infowindow.open(map, marker);
  });

  // 지도 타입 컨트롤을 생성합니다
  var mapTypeControl = new kakao.maps.MapTypeControl();
  map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);

  // 줌 컨트롤을 생성합니다
  var zoomControl = new kakao.maps.ZoomControl();
  map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
});
</script>